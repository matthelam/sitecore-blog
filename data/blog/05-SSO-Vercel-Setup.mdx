---
title: "Azure Entra ID SSO – Setting up Vercel SSO"
date: 2025-10-15
draft: true
tags: ["azure", "identity", "sso", "vercel", "saml", "setup", "xmc", "search"]
summary: "Configure Vercel Enterprise SAML SSO, upload Azure metadata, and enable Directory Sync to map Azure groups to Vercel roles."
---

## Introduction

By this stage, you’ve integrated Azure Entra ID with both **Sitecore Cloud Portal** and **Content Hub**.  
The final piece in this SSO chain is **Vercel** — the hosting environment for your headless front-end.  

Vercel Enterprise supports **SAML Single Sign-On** and **Directory Sync**, which means we can authenticate through Azure Entra ID and automatically assign users to roles based on their Azure group membership.

This guide walks through how to upload your Azure metadata, configure SAML, enable Directory Sync, and validate that Azure groups map correctly to Vercel roles such as **Owner**, **Developer**, or **Member**.

Before you start, make sure you have:

- A **Vercel Enterprise plan** with **owner access** → `[Vercel Team Owner Account]`  
- The **Azure Federation Metadata XML** for your Vercel enterprise app → `[Vercel Metadata File]`  
- Your **Azure Group Object IDs** and mapping plan → `[Group Mapping Table]`

---

## 1. Start SAML Configuration in Vercel

1. Log in to **Vercel Dashboard** as the team owner.  
2. Navigate to **Settings → Security & Privacy → SAML Single Sign-On**.  
3. Choose **Upload IdP Metadata** (or paste the SSO URL and X.509 certificate manually).  
4. Upload your Azure Federation Metadata file: `[Vercel Metadata File]`.  
5. Review the parsed values — Issuer, SSO URL, and Certificate — and confirm they match the Azure configuration.

> **Tip:** If you’ve previously tested SSO with another IdP, remove any stale metadata before uploading the new Azure file.

---

## 2. Configure Domain Restrictions (Optional)

If you want to restrict SSO to specific corporate email domains:

- Add your allowed domain(s):  
  - `[yourcompany.com]`  

This ensures users signing in must belong to your organisation’s domain, preventing external logins through other IdPs.

---

## 3. Enable Directory Sync (Map Azure Groups → Vercel Roles)

Now it’s time to synchronise Azure group membership with Vercel roles.

1. In the same **SAML Single Sign-On** area, find and enable **Directory Sync**.  
2. Map your Azure Group Object IDs to Vercel roles:  

| Azure Group | Object ID | Vercel Role |
|--------------|------------|-------------|
| Dev Admins | `[Azure Group Object ID - Dev Admin]` | `Owner` |
| Business Admins | `[Azure Group Object ID - Business Admin]` | `Member` |
| Content Editors | `[Azure Group Object ID - Content Editor]` | `Developer` |

3. (Optional) Create **Access Groups** in Vercel for specific project scoping and link them to your synced Azure groups.

> **Developer Note:** Always use **Object IDs** — they’re immutable and won’t break if someone renames the group. Store these mappings in your configuration repo: `[Config Repo URL]`.

---

## 4. Provisioning Settings

Under **Directory Sync → Provisioning**, configure the following:

- **Automatic provisioning:** Enabled — this allows new users to b
