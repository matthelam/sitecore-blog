---
title: "Setting up Content Hub"
date: 2025-10-04
summary: "Configure Content Hub’s Portal Configuration to accept Azure SAML and map incoming group claims to Content Hub groups (with placeholders for your group IDs)."
tags: ["Content Hub", "SAML", "SSO", "Sitecore Content Hub"]
draft: true
---

## Introduction

Content Hub's SAML configuration is managed via the Portal Configuration JSON. This article shows where to add the IdP metadata, how to configure the `ExternalAuthenticationProviders` section, and how to capture group mappings in the JSON (using placeholders).

Before you start, you’ll need:

- Content Hub metadata XML: `[Content Hub Metadata File]`  
- Group Object IDs and desired Content Hub groups: `[Group mapping table]`  
- Owner for the JSON change and a small maintenance window: `[Content Hub Admin]`

---

## 1. Access Portal Configuration

1. Sign into Content Hub as an administrator: `[Content Hub Admin Account]`.
2. Navigate to **Manage → Settings → Portal Configuration**.
3. Toggle to **Text View** or **Code View** to edit JSON.

---

## 2. The JSON snippet you’ll update (placeholder values)

Locate the `ExternalAuthenticationProviders` section and add (or update) an entry under `saml`. Example (fill placeholders):

```jsonc
{
  "ExternalAuthenticationProviders": {
    "global_username_claim_type": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name",
    "global_email_claim_type": "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress",
    "saml": [
      {
        "metadata_location": "[Content Hub Federation Metadata URL or local file path]",
        "sp_entity_id": "[Content Hub Entity ID]",
        "idp_entity_id": "[Azure IdP Entity ID]",
        "provider_name": "[AzureSAML]",
        "authentication_mode": "Passive",
        "module_path": "AuthServices",
        "is_enabled": true,
        "auto_create_users": true,
        "sync_claims_to_properties": true,
        "group_claim_attribute": "http://schemas.microsoft.com/ws/2008/06/identity/claims/groups",
        "default_user_groups": [
          "M.Builtin.Readers",
          "M.Builtin.SitecoreDAM.Everyone",
          "M.Builtin.ContentOperations.Everyone"
        ],
        "group_mappings": {
          "[Azure Group Object ID - Admins]": [
            "M.Builtin.ContentAdministrators",
            "M.Builtin.Approvers",
            "M.Builtin.Editors"
          ],
          "[Azure Group Object ID - Editors]": [
            "M.Builtin.Editors",
            "M.Builtin.Creators"
          ]
        }
      }
    ]
  }
}
```

---

## 3. Save & wait

- Save the **Portal Configuration**. It may take a couple of minutes to apply.  
- If you are committed to a repo-driven change process, store the JSON change in your configuration repo and reference the path: `[Config Repo URL]`.

---

## 4. Test authentication & group assignment

1. Log out of Content Hub.  
2. Access the Content Hub URL and initiate SSO.  
3. Log in with a test user who is a member of each Azure group.  
4. After login, verify:
   - The user account was auto-created (if enabled).
   - The user is a member of the expected Content Hub groups per your `group_mappings`.
   - Access and UI permissions match expectations for that group.

**If mappings do not appear:**

- Confirm the incoming `groups` claim contains **Object IDs** (not names).  
- Confirm the `group_mappings` JSON uses the **exact GUID values**.

---

## 5. Operational considerations

- **Auto-create users** is handy for early rollouts; be cautious in PROD.  
- **Sync claims to properties** lets you surface Azure attributes in Content Hub user records.  
- Keep a list of **default user groups** for baseline access so newly provisioned users have minimal access.  
- Document your JSON snippet and link to the metadata file in your repo.

---

## References

- Internal SAML/SSO notes and standard Content Hub SAML configuration patterns.  
- Your project’s identity and platform documentation (replace with your links): `[Config Repo URL]`, `[Identity Runbook URL]`.
